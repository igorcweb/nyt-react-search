(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(57)},54:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),s=a(6),i=a(7),o=a(9),m=a(8),u=a(10),d=a(59),p=a(60),h=a(58),v=a(14),f=a.n(v),b=function(){var e=window.location.pathname;return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-transparent"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:f()("nav-item",{active:"/"===e})},r.a.createElement(h.a,{className:"nav-link",to:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:f()("nav-item",{active:"/saved"===e})},r.a.createElement(h.a,{className:"nav-link",to:"/saved"},"Saved Articles")))))},E=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement(b,null),r.a.createElement("h1",{className:"text-center"},r.a.createElement("i",{className:"fa fa-newspaper-o"})," New York Times Search"))},g=a(15),N=a(23),y=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-list-alt"})," Search Parameters")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"search"},"Search Term"),r.a.createElement("input",{type:"text",className:"form-control",id:"topic",name:"topic",value:this.props.state.topic,onChange:this.props.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"startYear"},"Start Date (Optional):"),r.a.createElement("input",{type:"date",className:"form-control",id:"startYear",maxLength:"4",name:"startYear",onChange:this.props.handleInputChange,value:this.props.state.startYear})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"endYear"},"End Date (Optional):"),r.a.createElement("input",{type:"date",className:"form-control",id:"endYear",maxLength:"4",name:"endYear",onChange:this.props.handleInputChange,value:this.props.state.endYear})),r.a.createElement("button",{disabled:!this.props.state.topic,onClick:this.props.handleSubmit,type:"submit",className:"btn btn-default mr-2",id:"run-search"},r.a.createElement("i",{className:"fa fa-search"})," Search"),r.a.createElement("button",{className:"btn btn-default",id:"clear-all",onChange:this.props.clearArticles},r.a.createElement("i",{className:"fa fa-trash"})," Clear Results"))))))}}]),t}(n.Component),A=a(24),w=a.n(A),Y=function(e){return r.a.createElement("div",{className:"list-group my-4"},r.a.createElement("a",{href:e.url,className:"bg-blue list-group-item list-group-item-action flex-column align-items-start active",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h5",{className:"mb-1"},e.title),r.a.createElement("small",null,w()(e.date).format("MMMM Do, YYYY")))),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("div",{className:" w-75 d-inline-block"},r.a.createElement("h5",{className:"mb-1"},e.summary)),r.a.createElement("div",{className:"btn-group float-right",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-blue",onClick:e.onClick},e.type))))},S=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-table"})," Top Articles")),r.a.createElement("div",{className:"card-body",id:"article-section"},e.state.results.map(function(t,a){return r.a.createElement(Y,{key:a,title:t.headline.main,url:t.web_url,summary:t.snippet,date:t.pub_date,onClick:function(){return e.saveArticle(t)},type:"Save"})})))))},j=a(11),O=a.n(j),k={getArticles:function(){return O.a.get("/api/articles")},getArticle:function(e){return O.a.get("/api/articles/"+e)},deleteArticle:function(e){return O.a.delete("/api/articles/"+e)},saveArticle:function(e){return O.a.post("/api/articles",e)},search:function(e){return O.a.get(e)}},C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={topic:"",startYear:"",endYear:"",page:"0",results:[],previousSearch:{},noResults:!1},a.saveArticle=function(e){var t={date:e.pub_date,title:e.headline.main,url:e.web_url,summary:e.snippet};k.saveArticle(t).then(function(){var e=a.state.results.filter(function(e){return e.headline.main!==t.title});a.setState({results:e})}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={topic:t.topic,startYear:t.startYear,endYear:t.endYear};a.getArticles(n)},a.clearArticles=function(){a.setState({results:[]})},a.getArticles=function(e){e.topic===a.state.previousSearch.topic&&e.eYear===a.state.previousSearch.eYear&&e.sYear===a.state.previousSearch.sYear||a.setState({results:[]});var t=e.topic,n=e.startYear,r=e.endYear,c="https://api.nytimes.com/svc/search/v2/articlesearch.json?sort=newest&page=".concat(a.state.page),l="&api-key=".concat("b9f91d369ff59547cd47b931d8cbc56b:0:74623931");t.indexOf(" ")>=0&&(t=t.replace(/\s/g,"+")),t&&(c+="&fq=".concat(t)),n&&(c+="&begin_date=".concat(n)),r&&(c+="&end_date=".concat(r)),c+=l,k.search(c).then(function(t){a.setState({results:Object(g.a)(a.state.results).concat(Object(g.a)(t.data.response.docs)),previousSearch:e,topic:"",sYear:"",eYear:""},function(){0===this.state.results.length?this.setState({noResults:!0}):this.setState({noResults:!1})})}).catch(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,state:this.state,clearArticles:this.clearArticles}),r.a.createElement(S,{state:this.state,saveArticle:this.saveArticle}))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={savedArticles:[]},a.getArticles=function(){k.getArticles().then(function(e){a.setState({savedArticles:e.data})})},a.deleteArticle=function(e){k.deleteArticle(e).then(function(){var t=a.state.savedArticles.filter(function(t){return t._id!==e});a.setState({savedArticles:t}),a.getArticles()}).catch(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.getArticles()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-table"})," Saved Articles")),r.a.createElement("div",{className:"card-body",id:"article-section"},this.state.savedArticles.length?this.state.savedArticles.map(function(t,a){return r.a.createElement(Y,{key:a,title:t.title,url:t.url,summary:t.summary,date:t.date,type:"Delete",onClick:function(){return e.deleteArticle(t._id)}})}):""))))}}]),t}(n.Component),_=function(){return r.a.createElement("div",{className:"footer text-white text-center mt-4 mb-0"},r.a.createElement("p",{class:"p-1 mb-0"},"React NYT Search"))},I=(a(54),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App container"},r.a.createElement("div",{className:"content"},r.a.createElement(E,null),r.a.createElement(p.a,{exact:!0,path:"/",component:C}),r.a.createElement(p.a,{exact:!0,path:"/saved",component:x})),r.a.createElement(_,null)))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.c0c859ea.chunk.js.map